import{r as N,u,j as a,q as i,t,F as y,a7 as D,x as Y}from"./index-5vXlcsP3.js";import{D as w,a as A,b as M,c as R}from"./Add-CyTVCD91.js";import{R as E,a as p}from"./RadioGroup-DOp4wBz-.js";import{F as o}from"./FormControlLabel-DLTSzy9v.js";import{C as f}from"./Checkbox-omOJtC17.js";import{B as j}from"./Button-Ci8q0XrN.js";const T=({open:b,handleClose:c,outsideCreate:n,setOutsideCreate:x})=>{const m={first_name:(n==null?void 0:n.firstName)||"",last_name:(n==null?void 0:n.lastName)||"",sex:"",isYouth:!1,can_ask:!0},[s,r]=N.useState(m),{fetchAllMembers:g}=u(),_="https://lv6.rhinogfx.com:5001",e=l=>{const{name:d,value:F}=l.target;r({...s,[d]:F})},h=l=>{r({...s,isYouth:l.target.checked})},k=async()=>{try{const l=await Y.post(`${_}/api/add-member`,{first_name:(n==null?void 0:n.firstName)||s.first_name,last_name:(n==null?void 0:n.lastName)||s.last_name,sex:s.sex,isYouth:s.isYouth?1:null,can_ask:s.can_ask?1:0});l.status===200?(c(),r(m),x(null),await g()):console.error("Unexpected response:",l)}catch(l){console.error("Error saving member:",l)}},v=()=>{r(m),x(null),c()};return a.jsxs(w,{open:b,onClose:c,suppressContentEditableWarning:!0,children:[a.jsx(A,{children:"Add Ward Member"}),a.jsx(M,{children:a.jsxs("form",{children:[a.jsxs("div",{className:"two-col",children:[a.jsx(i,{fullWidth:!0,margin:"normal",label:"First Name",name:"first_name",value:(n==null?void 0:n.firstName)||s.first_name,onChange:e}),a.jsx(i,{fullWidth:!0,margin:"normal",label:"Last Name",name:"last_name",value:(n==null?void 0:n.lastName)||s.last_name,onChange:e})]}),a.jsxs(t,{display:"flex",flexDirection:"column",rowGap:"1rem",children:[a.jsxs(y,{children:[a.jsx(D,{id:"sex",children:"Gender"}),a.jsxs(E,{row:!0,"aria-labelledby":"sex",name:"sex",value:s.sex,onChange:e,children:[a.jsx(o,{value:"M",control:a.jsx(p,{}),label:"Male"}),a.jsx(o,{value:"F",control:a.jsx(p,{}),label:"Female"})]})]}),a.jsxs(t,{children:[a.jsx(o,{control:a.jsx(f,{checked:s.isYouth,onChange:h}),label:"Youth"}),a.jsx(o,{control:a.jsx(f,{checked:s.can_ask,onChange:h}),label:"Can be asked speak/pray"})]})]})]})}),a.jsxs(R,{children:[a.jsx(j,{onClick:v,children:"Cancel"}),a.jsx(j,{onClick:k,variant:"contained",color:"primary",children:"Save"})]})]})};export{T as A};
