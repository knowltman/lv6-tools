import{y as ge,z as ne,E as fe,G as xe,r as C,H as he,j as s,J as F,K as ye,L as Y,N as K,P as ae,Q as k,R as Q,U as je,c as Se,t as Z,C as Ce,v as be,u as q,V as ve,e as $e,W as we,k as Ne,m as ke,f as _e,p as ee,X as Me,Y as Ge,Z as Pe,_ as Re,$ as ze,a0 as Te,S as U,a as se,x as W,a1 as Ae}from"./index-BywWJzti.js";import{t as te,T as b}from"./Typography-DO_idQ2S.js";import{g as He,C as A}from"./getDate-CiplD_YF.js";const Ee=ge();function Oe({props:e,name:t,defaultTheme:r,themeId:n}){let a=ne(r);return n&&(a=a[n]||a),fe({theme:a,name:t,props:e})}const Be=(e,t)=>e.filter(r=>t.includes(r)),_=(e,t,r)=>{const n=e.keys[0];Array.isArray(t)?t.forEach((a,o)=>{r((l,d)=>{o<=e.keys.length-1&&(o===0?Object.assign(l,d):l[e.up(e.keys[o])]=d)},a)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:Be(e.keys,Object.keys(t))).forEach(o=>{if(e.keys.includes(o)){const l=t[o];l!==void 0&&r((d,g)=>{n===o?Object.assign(d,g):d[e.up(o)]=g},l)}}):(typeof t=="number"||typeof t=="string")&&r((a,o)=>{Object.assign(a,o)},t)};function O(e){return`--Grid-${e}Spacing`}function D(e){return`--Grid-parent-${e}Spacing`}const re="--Grid-columns",N="--Grid-parent-columns",De=({theme:e,ownerState:t})=>{const r={};return _(e.breakpoints,t.size,(n,a)=>{let o={};a==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${N}) - (var(${N}) - ${a}) * (var(${D("column")}) / var(${N})))`}),n(r,o)}),r},Le=({theme:e,ownerState:t})=>{const r={};return _(e.breakpoints,t.offset,(n,a)=>{let o={};a==="auto"&&(o={marginLeft:"auto"}),typeof a=="number"&&(o={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${N}) + var(${D("column")}) * ${a} / var(${N}))`}),n(r,o)}),r},Ue=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={[re]:12};return _(e.breakpoints,t.columns,(n,a)=>{const o=a??12;n(r,{[re]:o,"> *":{[N]:o}})}),r},We=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return _(e.breakpoints,t.rowSpacing,(n,a)=>{var l;const o=typeof a=="string"?a:(l=e.spacing)==null?void 0:l.call(e,a);n(r,{[O("row")]:o,"> *":{[D("row")]:o}})}),r},Ie=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return _(e.breakpoints,t.columnSpacing,(n,a)=>{var l;const o=typeof a=="string"?a:(l=e.spacing)==null?void 0:l.call(e,a);n(r,{[O("column")]:o,"> *":{[D("column")]:o}})}),r},Ve=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return _(e.breakpoints,t.direction,(n,a)=>{n(r,{flexDirection:a})}),r},Fe=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${O("row")}) var(${O("column")})`}}),Ye=e=>{const t=[];return Object.entries(e).forEach(([r,n])=>{n!==!1&&n!==void 0&&t.push(`grid-${r}-${String(n)}`)}),t},Ke=(e,t="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const n=[];return Object.entries(e).forEach(([a,o])=>{r(o)&&n.push(`spacing-${a}-${String(o)}`)}),n}return[]},Qe=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,r])=>`direction-${t}-${r}`):[`direction-xs-${String(e)}`],Je=xe(),Xe=Ee("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function Ze(e){return Oe({props:e,name:"MuiGrid",defaultTheme:Je})}function qe(e={}){const{createStyledComponent:t=Xe,useThemeProps:r=Ze,useTheme:n=ne,componentName:a="MuiGrid"}=e,o=(f,u)=>{const{container:j,direction:p,spacing:x,wrap:c,size:h}=f,S={root:["root",j&&"container",c!=="wrap"&&`wrap-xs-${String(c)}`,...Qe(p),...Ye(h),...j?Ke(x,u.breakpoints.keys[0]):[]]};return Y(S,y=>K(a,y),{})};function l(f,u,j=()=>!0){const p={};return f===null||(Array.isArray(f)?f.forEach((x,c)=>{x!==null&&j(x)&&u.keys[c]&&(p[u.keys[c]]=x)}):typeof f=="object"?Object.keys(f).forEach(x=>{const c=f[x];c!=null&&j(c)&&(p[x]=c)}):p[u.keys[0]]=f),p}const d=t(Ue,Ie,We,De,Ve,Fe,Le),g=C.forwardRef(function(u,j){const p=n(),x=r(u),c=he(x),{className:h,children:S,columns:y=12,container:M=!1,component:R="div",direction:z="row",wrap:L="wrap",size:G={},offset:T={},spacing:w=0,rowSpacing:i=w,columnSpacing:P=w,unstable_level:v=0,...oe}=c,ie=l(G,p.breakpoints,$=>$!==!1),ce=l(T,p.breakpoints),le=u.columns??(v?void 0:y),de=u.spacing??(v?void 0:w),ue=u.rowSpacing??u.spacing??(v?void 0:i),pe=u.columnSpacing??u.spacing??(v?void 0:P),J={...c,level:v,columns:le,container:M,direction:z,wrap:L,spacing:de,rowSpacing:ue,columnSpacing:pe,size:ie,offset:ce},me=o(J,p);return s.jsx(d,{ref:j,as:R,ownerState:J,className:F(me.root,h),...oe,children:C.Children.map(S,$=>{var X;return C.isValidElement($)&&ye($,["Grid"])&&M&&$.props.container?C.cloneElement($,{unstable_level:((X=$.props)==null?void 0:X.unstable_level)??v+1}):$})})});return g.muiName="Grid",g}function es(e){return K("MuiCardContent",e)}ae("MuiCardContent",["root"]);const ss=e=>{const{classes:t}=e;return Y({root:["root"]},es,t)},ts=k("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),H=C.forwardRef(function(t,r){const n=Q({props:t,name:"MuiCardContent"}),{className:a,component:o="div",...l}=n,d={...n,component:o},g=ss(d);return s.jsx(ts,{as:o,className:F(g.root,a),ownerState:d,ref:r,...l})});function rs(e){return K("MuiCardHeader",e)}const B=ae("MuiCardHeader",["root","avatar","action","content","title","subheader"]),ns=e=>{const{classes:t}=e;return Y({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},rs,t)},as=k("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${B.title}`]:t.title},{[`& .${B.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),os=k("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),is=k("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),cs=k("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[`.${te.root}:where(& .${B.title})`]:{display:"block"},[`.${te.root}:where(& .${B.subheader})`]:{display:"block"}}),E=C.forwardRef(function(t,r){const n=Q({props:t,name:"MuiCardHeader"}),{action:a,avatar:o,className:l,component:d="div",disableTypography:g=!1,subheader:f,subheaderTypographyProps:u,title:j,titleTypographyProps:p,...x}=n,c={...n,component:d,disableTypography:g},h=ns(c);let S=j;S!=null&&S.type!==b&&!g&&(S=s.jsx(b,{variant:o?"body2":"h5",className:h.title,component:"span",...p,children:S}));let y=f;return y!=null&&y.type!==b&&!g&&(y=s.jsx(b,{variant:o?"body2":"body1",className:h.subheader,color:"textSecondary",component:"span",...u,children:y})),s.jsxs(as,{className:F(h.root,l),as:d,ref:r,ownerState:c,...x,children:[o&&s.jsx(os,{className:h.avatar,ownerState:c,children:o}),s.jsxs(cs,{className:h.content,ownerState:c,children:[S,y]}),a&&s.jsx(is,{className:h.action,ownerState:c,children:a})]})}),m=qe({createStyledComponent:k("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid2",useThemeProps:e=>Q({props:e,name:"MuiGrid2"}),useTheme:je}),I=Se(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");function ls(e){return s.jsxs(Z,{sx:{position:"relative",display:"inline-flex"},children:[s.jsx(Ce,{variant:"determinate",size:"100px",...e}),s.jsx(Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(b,{variant:"h6",component:"div",sx:{color:"text.secondary"},children:`${Math.round(e.value)}%`})})]})}function ds(e){return s.jsx(ls,{value:e.value})}const V=void 0,gs=e=>{var T,w;const{setIsLoading:t}=e,r=be("(max-width: 768px)"),{user:n}=q(i=>i),{date:a}=ve(i=>i),o=$e(i=>i.specialSundays);we(),Ne();const{sundayMusic:l}=ke(),{formValues2:d}=_e(),[g,f]=C.useState({}),[u,j]=C.useState({}),[p,x]=C.useState({}),c=He(ee(a))<=7&&ee(a).getDay()===0,[h,S]=C.useState(0),y=n&&n.first_name&&n.last_name,M=Me(d),R=Ge(d),z=Pe(l),L=async()=>{try{t(!0);const i=await W.get(`${V}/api/speaker-suggestions`),P=await W.get(`${V}/api/youth-speaker-suggestions`),v=await W.get(`${V}/api/prayer-suggestions`);f(i.data),j(P.data),x(v.data),t(!1)}catch(i){console.error("Error fetching data:",i),t(!1)}};C.useEffect(()=>{const i=Re(M,R,z,o,c);L(),S(i)},[d]);const G=i=>{q.getState().fetchMemberData(i.speaker_id).then(()=>{}).catch(P=>{console.error("Error fetching data:",P)}),Ae.getState().setSidebarOpen(!0)};return s.jsx("div",{className:"container",children:s.jsxs("div",{className:"dashboard",children:[s.jsxs(A,{variant:"outlined",children:[r&&s.jsx(E,{title:"Program Completion"}),s.jsx(H,{children:s.jsxs(m,{container:!0,alignItems:"center",children:[!r&&s.jsx(m,{size:{xs:12,md:8},children:s.jsxs("div",{className:"user-block",children:[y?s.jsx(ze,{sx:{width:100,height:100},children:s.jsx("img",{className:"large-user-image",src:Te(n),alt:`${n.first_name} ${n.last_name}`})}):s.jsx(U,{variant:"circular",width:128,height:128,animation:"wave"}),s.jsx("div",{className:"user-block__user-info",children:y?s.jsxs(s.Fragment,{children:[s.jsx(b,{variant:"h1",children:`${n.first_name} ${n.last_name}`}),s.jsx(b,{variant:"h5",children:n.calling})]}):s.jsxs(s.Fragment,{children:[s.jsx(U,{variant:"text",width:200,height:50}),s.jsx(U,{variant:"text",width:150,height:30})]})})]})}),s.jsx(m,{size:{xs:12,md:4},justifyContent:!r&&"flex-end",paddingTop:r&&0,children:s.jsxs(m,{container:!0,spacing:2,alignItems:"center",children:[s.jsxs(m,{size:6,children:[s.jsx(b,{variant:"p",sx:{color:"text.secondary"},children:M===2?s.jsxs("div",{className:"progress-item",children:[s.jsx(I,{fontSize:"small",sx:{color:"green",mr:1}}),s.jsx("span",{className:"complete",children:"Prayers"})]}):s.jsx("div",{children:"Need Prayer(s)"})}),s.jsx(b,{variant:"p",sx:{color:"text.secondary"},children:R?s.jsxs("div",{className:"progress-item",children:[s.jsx(I,{fontSize:"small",sx:{color:"green",mr:1}}),s.jsx("span",{className:"complete",children:"Speakers"})]}):s.jsx("div",{style:{textDecoration:((w=(T=d.speaker_1)==null?void 0:T.first_name)==null?void 0:w.length)>1?"":"line-through"},children:"Need Speakers"})}),s.jsx(b,{variant:"p",sx:{color:"text.secondary"},children:z?s.jsxs("div",{className:"progress-item",children:[s.jsx(I,{fontSize:"small",sx:{color:"green",mr:1}}),s.jsx("span",{className:"complete",children:"Music"})]}):s.jsx("div",{children:"Need Music"})})]}),s.jsx(m,{size:6,justifyContent:"flex-end",display:"flex",children:s.jsx(ds,{value:h})})]})})]})})]}),s.jsxs(m,{container:!0,spacing:2,children:[s.jsx(m,{size:{xs:12,md:6,xl:4},children:s.jsxs(A,{variant:"outlined",children:[s.jsx(E,{title:"Speaker Suggestions"}),s.jsx(H,{children:s.jsx(m,{container:!0,spacing:1,columnSpacing:4,children:Array.isArray(g)&&g.map(i=>s.jsxs(m,{size:{xs:12,sm:6,md:6},display:"flex",justifyContent:"space-between",children:[s.jsx("span",{className:"speaker__name",onClick:()=>G(i),children:`${i.first_name} ${i.last_name}`}),s.jsx("span",{className:"speaker__date",children:se(i.newest_date,"M/dd/yy")})]},i.speaker_id))})})]})}),s.jsx(m,{size:{xs:12,md:6,xl:4},children:s.jsxs(A,{variant:"outlined",children:[s.jsx(E,{title:"Youth Speaker Suggestions"}),s.jsx(H,{children:s.jsx(m,{container:!0,spacing:1,columnSpacing:4,children:Array.isArray(u)&&u.map(i=>s.jsxs(m,{size:{xs:12,sm:6,md:6},display:"flex",justifyContent:"space-between",children:[s.jsx("span",{className:"speaker__name",onClick:()=>G(i),children:`${i.first_name} ${i.last_name}`}),s.jsx("span",{className:"speaker__date",children:se(i.newest_date,"M/dd/yy")})]},i.speaker_id))})})]})}),s.jsx(m,{size:{xs:12,md:6,xl:4},style:{marginBottom:"9rem"},children:s.jsxs(A,{variant:"outlined",children:[s.jsx(E,{title:"Prayers"}),s.jsx(H,{children:s.jsx(m,{container:!0,spacing:1,children:Array.isArray(p)&&p.map(i=>s.jsx(m,{size:{xs:6,sm:6,md:6},display:"flex",justifyContent:"space-between",children:s.jsx("span",{className:"speaker__name",onClick:()=>G(i),children:`${i.first_name} ${i.last_name}`})},i.speaker_id))})})]})})]})]})})};export{gs as default};
